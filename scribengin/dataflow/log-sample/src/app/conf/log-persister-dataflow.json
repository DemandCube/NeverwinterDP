{
  "id" : null,
  "name" : "log-sample-dataflow",
  "dataflowAppHome" : null,

  "numberOfWorkers" : 2,
  "numberOfExecutorsPerWorker" : 2,
  "taskMaxExecuteTime" : -1,
  "scribe" : "com.neverwinterdp.dataflow.logsample.LogPersister",

  "sourceDescriptor" : {
    "topic" : "log4j.info",
    "zk.connect" : "127.0.0.1:2181",
    "type" : "kafka",
    "dataflowName" : "InfoLogPeristerDataflow"
  },

  "sinkDescriptors" : {
    "warn" : {
      "topic" : "log4j.warn",
      "zk.connect" : "127.0.0.1:2181",
      "reader" : "record",
      "type" : "kafka",
      "dataflowName" : "LogSplitterDataflow"
    },

    "error" : {
      "topic" : "log4j.error",
      "zk.connect" : "127.0.0.1:2181",
      "reader" : "record",
      "type" : "kafka",
      "dataflowName" : "LogSplitterDataflow"
    }
  },

  "loggerConfig" : {
    "logLevel" : "INFO ",
    "consoleAppender" : {
      "enable" : false
    },

    "fileAppender" : {
      "enable" : true,
      "name" : "file",
      "filePath" : "logs/vm.log",
      "maxSizeInMb" : 5,
      "maxBackup" : 5
    },
    
    "esAppender" : {
      "enable" : true,
      "name" : "es",
      "connects" : "elasticsearch-1:9300",
      "bufferDir" : "data/buffer/es/log4j",
      "indexName" : "log4j"
    },

    "kafkaAppender" : {
      "enable" : true,
      "name" : "kafka",
      "connects" : "kafka-1:9092, kafka-2:9092, kafka-3:9092",
      "bufferDir" : "data/buffer/kafka/log4j",
      "topic" : "log4j"
    }
  }
}

