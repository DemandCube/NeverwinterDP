{
  "submitter": "Order",

  "descriptors": [
    {
      "id" :   "tracking-splitter-dataflow",
      "name" : "tracking-splitter-dataflow",

      "numberOfWorkers" : 1,
      "numberOfExecutorsPerWorker" : 3,
      "taskSwitchingPeriod" : 5000,
      "maxRunTime": 90000,
      "scribe" : "com.neverwinterdp.scribengin.dataflow.sample.TrackingMessageSplitter",

      "sourceDescriptor" : {
        "type" : "kafka", "topic" : "tracking.input", "zk.connect" : "127.0.0.1:2181", "reader" : "raw", "name" : "TMSplitterDataflow"
      },

      "sinkDescriptors" : {
        "warn" : {
          "type" : "kafka", "topic" : "tracking.warn", "zk.connect" : "127.0.0.1:2181", "name" : "TMSplitterDataflow"
        },

        "error" : {
          "type" : "kafka", "topic" : "tracking.error", "zk.connect" : "127.0.0.1:2181", "name" : "TMSplitterDataflow"
        },

        "info" : {
          "type" : "kafka", "topic" : "tracking.info", "zk.connect" : "127.0.0.1:2181", "name" : "TMSplitterDataflow"
        }
      }
    },

    {
      "id" :   "tracking-persister-dataflow-info",
      "name" : "tracking-persister-dataflow",
      "numberOfWorkers" : 1,
      "numberOfExecutorsPerWorker" : 3,
      "maxRunTime": 120000,
      "taskSwitchingPeriod" : 5000,
      "scribe" : "com.neverwinterdp.scribengin.dataflow.sample.TrackingMessagePerister",

      "sourceDescriptor" : {
        "type" : "kafka", "topic" : "tracking.info", "zk.connect" : "127.0.0.1:2181", "reader" : "record", "name" : "TMSampleDataflow"
      },

      "sinkDescriptors" : {
        "kafka" : {
          "type" : "kafka", "topic" : "tracking.aggregate", "zk.connect" : "127.0.0.1:2181", "name" : "InfoTMPersisterDataflow"
        }
      }
    },

    {
      "id" :   "tracking-persister-dataflow-warn",
      "name" : "tracking-persister-dataflow",
      "numberOfWorkers" : 1,
      "numberOfExecutorsPerWorker" : 3,
      "maxRunTime": 120000,
      "taskSwitchingPeriod" : 5000,
      "scribe" : "com.neverwinterdp.scribengin.dataflow.sample.TrackingMessagePerister",

      "sourceDescriptor" : {
        "type" : "kafka", "topic" : "tracking.warn", "zk.connect" : "127.0.0.1:2181", "reader" : "record", "name" : "TMSampleDataflow"
      },

      "sinkDescriptors" : {
        "kafka" : {
          "type" : "kafka", "topic" : "tracking.aggregate", "zk.connect" : "127.0.0.1:2181", "name" : "WarnTMPersisterDataflow"
        }
      }
    },

    {
      "id" :   "tracking-persister-dataflow-error",
      "name" : "tracking-persister-dataflow",
      "numberOfWorkers" : 1,
      "numberOfExecutorsPerWorker" : 3,
      "maxRunTime": 120000,
      "taskSwitchingPeriod" : 5000,
      "scribe" : "com.neverwinterdp.scribengin.dataflow.sample.TrackingMessagePerister",

      "sourceDescriptor" : {
        "type" : "kafka", "topic" : "tracking.error", "zk.connect" : "127.0.0.1:2181", "reader" : "record", "name" : "TMSampleDataflow"
      },

      "sinkDescriptors" : {
        "kafka" : {
          "type" : "kafka", "topic" : "tracking.aggregate", "zk.connect" : "127.0.0.1:2181", "name" : "ErrorTMPersisterDataflow"
        }
      }
    }
  ]
}
